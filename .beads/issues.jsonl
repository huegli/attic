{"id":"attic-3d1","title":"Fix BCD number encoding in BASIC tokenizer","description":"Six tests failing in BASICTokenizerTests related to BCD (Binary Coded Decimal) number encoding:\n\n**Failing tests:**\n- testBCDOne: exponent byte is 65 instead of 64, mantissa 144 instead of 16, decodes to 90.0 instead of 1.0\n- testBCDHundred: decodes to 9000.0 instead of 100.0\n- testBCDNegative: decodes to -90.0 instead of -1.0\n- testBCDPi: decodes to 94.159 instead of 3.14159\n- testBCDParsing: decodes to 9500.0 instead of 255.0\n- testBCDSmallIntOptimization: small int optimization not detecting valid cases\n\n**Root cause analysis needed:**\nThe exponent byte and mantissa encoding appear to be off by a factor. The pattern suggests the exponent is being set incorrectly (e.g., 65 vs 64 for value 1.0) and the mantissa digits are misaligned.\n\n**Files:**\n- Tests/AtticCoreTests/BASICTokenizerTests.swift (test definitions)\n- Sources/AtticCore/ (BCD encoding implementation)","status":"open","priority":1,"issue_type":"bug","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T08:36:17.284091-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:36:17.284091-08:00"}
{"id":"attic-7pt","title":"Ensure that the directory structure documented for AtticCore still matches what is actually there","status":"closed","priority":2,"issue_type":"task","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T07:56:51.277796-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:54:47.219326-08:00","closed_at":"2026-01-20T08:54:47.219326-08:00","close_reason":"Updated ARCHITECTURE.md component diagram to reflect actual flat file structure with all 38 AtticCore files"}
{"id":"attic-bcb","title":"Xcode project build shows errors","description":"Xcode build fails with 10 errors in EmulatorEngine.swift (lines 600-654). Missing types related to state save/load:\n\n- StateMetadata (lines 600, 631, 651)\n- StateFileFlags (line 604)\n- StateFileHandler (lines 610, 633)\n- StateFileError (lines 611, 636, 654)\n\nAlso missing member reference:\n- .wasPaused (line 606)\n\nThese types appear to be referenced but not defined in the codebase.","notes":"Root cause: A stale Attic.xcodeproj file (from Jan 16) was taking precedence over Package.swift. xcodebuild prefers .xcodeproj files over Swift packages.\n\nFix applied:\n1. Removed stale Attic.xcodeproj\n2. Flattened AtticCore directory structure (moved all .swift files from subdirectories to Sources/AtticCore/ root) to work around Xcode 26 bug with subdirectory discovery\n3. Updated Package.swift comments\n\nBoth swift build and xcodebuild now succeed.","status":"closed","priority":0,"issue_type":"bug","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-19T21:22:03.57739-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-19T21:44:43.559248-08:00","closed_at":"2026-01-19T21:44:43.559248-08:00","close_reason":"Fixed by removing stale Attic.xcodeproj and flattening AtticCore directory structure. Both swift build and xcodebuild now succeed."}
{"id":"attic-blj","title":"Remove unused variable declarations","description":"Swift compiler warnings about unused immutable values:\n- MonitorStepper.swift:302 - 'result' was never used\n- AtticServer.swift:488 - 'address' was never used\n\nReplace with '_' or remove the declarations entirely.","status":"open","priority":4,"issue_type":"task","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T08:44:46.911936-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:44:46.911936-08:00"}
{"id":"attic-c4f","title":"Rename AtticServer/main.swift to AtticServer.swift for @main compatibility","description":"AtticServer has @main attribute on line 669 but the file is named main.swift. Swift does not allow @main in files named main.swift because that filename implies top-level executable code.\n\nFix: Rename Sources/AtticServer/main.swift to Sources/AtticServer/AtticServer.swift\n\nVerification:\n1. swift build succeeds\n2. xcodebuild succeeds (if attic-npk is addressed)","status":"closed","priority":1,"issue_type":"task","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T08:03:44.487409-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:07:41.777875-08:00","closed_at":"2026-01-20T08:07:41.777875-08:00","close_reason":"Renamed main.swift to AtticServer.swift. swift build verified successful."}
{"id":"attic-e0u","title":"Fix DATA section alignment warning in libatari800","description":"Xcode linker warning: 'reducing alignment of section __DATA,__common from 0x8000 to 0x4000 because it exceeds segment maximum alignment'. This occurs when linking libatari800.a. May need to rebuild libatari800 with appropriate alignment flags or adjust linker settings.","status":"open","priority":3,"issue_type":"bug","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T08:41:01.818316-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:41:01.818316-08:00"}
{"id":"attic-eam","title":"Fix macOS deployment target mismatch warnings for libatari800","description":"Xcode shows 70+ linker warnings: 'object file was built for newer macOS version (26.0) than being linked (15.0)'. The libatari800.a static library was compiled targeting macOS 26.0 but Package.swift targets macOS 15.0. Options: (1) Rebuild libatari800 with -mmacosx-version-min=15.0, (2) Update project deployment target to macOS 26.0, or (3) Suppress warnings if mismatch is intentional.","status":"open","priority":2,"issue_type":"bug","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T08:41:01.645073-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:41:01.645073-08:00"}
{"id":"attic-ek7","title":"Audit all executables for @main in main.swift conflict","description":"Check all executable targets in the project for the Swift @main attribute conflict.\n\nSwift does not allow @main attribute in files named main.swift because that filename implies top-level executable code.\n\nExecutables to check:\n- AtticServer (Sources/AtticServer/main.swift) - KNOWN ISSUE\n- AtticCLI (Sources/AtticCLI/) - FIXED (renamed to AtticCLI.swift)\n- AtticGUI (Sources/AtticGUI/)\n\nFor each executable with a main.swift file using @main:\n1. Rename main.swift to match the module name (e.g., AtticServer.swift)\n2. Verify build succeeds with both swift build and xcodebuild\n\nRelated: attic-npk (Xcode build errors)","status":"closed","priority":1,"issue_type":"task","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T07:55:23.315337-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:03:54.353609-08:00","closed_at":"2026-01-20T08:03:54.353609-08:00","close_reason":"Audit complete. Found 1 issue: AtticServer/main.swift needs rename. Created attic-c4f to track the fix. AtticCLI and AtticGUI are already correct."}
{"id":"attic-lqm","title":"This is an invalid issue","status":"tombstone","priority":3,"issue_type":"task","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-19T21:17:21.666874-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-19T21:19:37.861243-08:00","deleted_at":"2026-01-19T21:19:37.861243-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"attic-m8x","title":"Fix keyword suggestion algorithm in BASIC tokenizer","description":"Test testKeywordSuggestion failing in BASICTokenizerTests:\n\n**Failing assertions:**\n- suggestKeyword(\"PRIN\") returns \"POINT\" instead of \"PRINT\"\n- suggestKeyword(\"GOT\") returns \"LET\" instead of \"GOTO\"\n\n**Root cause:**\nThe keyword suggestion algorithm (likely using edit distance) is not correctly finding the closest match. \"PRIN\" should obviously match \"PRINT\" (1 character away), not \"POINT\" (2+ edits). Similarly \"GOT\" is 1 character from \"GOTO\" but returning \"LET\".\n\nThe algorithm may be:\n1. Using wrong distance metric\n2. Not considering prefix matching\n3. Sorting results incorrectly\n\n**Files:**\n- Tests/AtticCoreTests/BASICTokenizerTests.swift:403-406 (test)\n- Sources/AtticCore/ (keyword suggestion implementation)","status":"open","priority":2,"issue_type":"bug","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T08:36:25.698708-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:36:25.698708-08:00"}
{"id":"attic-npk","title":"Xcode build errors for Attic","description":"Attic\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticServer/main.swift\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticServer/main.swift:669:1 'main' attribute cannot be used in a module that contains top-level code\n\nAtticCore\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCore/BASICLineHandler.swift\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCore/BASICLineHandler.swift:625:21 No 'async' operations occur within 'await' expression\n\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCore/BASICLineHandler.swift:632:9 No 'async' operations occur within 'await' expression\n\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCore/BASICLineHandler.swift:641:9 No 'async' operations occur within 'await' expression\n\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCore/BASICLineHandler.swift:646:9 No 'async' operations occur within 'await' expression\n\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCore/CLISocketClient.swift\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCore/CLISocketClient.swift:326:17 No 'async' operations occur within 'await' expression\n\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCore/CLISocketClient.swift:374:17 No 'async' operations occur within 'await' expression","status":"closed","priority":0,"issue_type":"bug","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-19T22:13:25.334368-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:40:52.498117-08:00","closed_at":"2026-01-20T08:40:52.498117-08:00","close_reason":"Build errors resolved - Xcode now builds successfully","dependencies":[{"issue_id":"attic-npk","depends_on_id":"attic-ek7","type":"blocks","created_at":"2026-01-20T07:55:27.687761-08:00","created_by":"Nikolai Schlegel"},{"issue_id":"attic-npk","depends_on_id":"attic-c4f","type":"blocks","created_at":"2026-01-20T08:03:49.136632-08:00","created_by":"Nikolai Schlegel"}]}
{"id":"attic-opj","title":"Update the documentation with respect to how to build \u0026 run the project with Xcode","status":"closed","priority":3,"issue_type":"task","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T07:57:23.198572-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:49:51.466672-08:00","closed_at":"2026-01-20T08:49:51.466672-08:00","close_reason":"Added Xcode build/run instructions to CLAUDE.md and fixed incorrect Attic.xcodeproj reference in README.md (this is an SPM project opened via Package.swift)"}
{"id":"attic-qvv","title":"Merge the docs/PHASE_14_DESIGN.md document into the existing architecture and other specification docs and remove it","status":"in_progress","priority":3,"issue_type":"task","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T07:59:13.776906-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:54:32.987929-08:00"}
{"id":"attic-s12","title":"Build errors with Xcode","description":"attic\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCLI/main.swift\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCLI/main.swift:38:1 'main' attribute cannot be used in a module that contains top-level code\n\nattic\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCLI/main.swift\n/Users/nikolai/Source/Repos/GitHub/huegli/attic/Sources/AtticCLI/main.swift:38:1 'main' attribute cannot be used in a module that contains top-level code\n","status":"closed","priority":0,"issue_type":"bug","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-19T22:05:44.651931-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-19T22:09:47.530255-08:00","closed_at":"2026-01-19T22:09:47.530255-08:00","close_reason":"Fixed by renaming main.swift to AtticCLI.swift - Swift does not allow @main in a file named main.swift"}
{"id":"attic-u0y","title":"Remove unnecessary await expressions in async code","description":"Swift compiler warnings: 'No async operations occur within await expression'. Locations:\n- BASICLineHandler.swift:625, 632, 641, 646\n- CLISocketClient.swift:326, 374\n\nThese awaits are unnecessary and should be removed to clean up the async code.","status":"open","priority":3,"issue_type":"task","owner":"nikolai.schlegel@gmail.com","created_at":"2026-01-20T08:44:46.701588-08:00","created_by":"Nikolai Schlegel","updated_at":"2026-01-20T08:44:46.701588-08:00"}
